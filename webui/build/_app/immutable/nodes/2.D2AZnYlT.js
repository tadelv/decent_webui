import{s as Y,n as Q,o as st}from"../chunks/scheduler.BvLojk_z.js";import{S as Z,i as tt,e as _,s as P,b as o,c as v,m as U,h as x,d as X,f as r,g as u,j as d,k as e,l as g,n as nt,o as at,p as lt,t as ot,a as rt,q as it}from"../chunks/index.D6enODF7.js";import{w as mt}from"../chunks/index.BGTSHx9J.js";const et=mt({}),q=new WebSocket("ws://localhost:9900/log/me","s");q.addEventListener("open",function(m){console.log("It's open")});q.addEventListener("message",function(m){et.set(m.data)});q.addEventListener("ping",function(m){q.send("pong")});const pt={subscribe:et.subscribe};function ft(m){let n,C="Machine State",p,l,$,c=m[0].state+"",f,b,t,h,w=m[0].head_temp+"",B,z,T,W,M=m[0].temp_goal+"",E,y,I,J,S=m[0].steam_temp+"",L,K,N,O,j=m[0].pressure+"",R,V,A,D,k=m[0].flow+"",H,F,G;return{c(){n=_("h1"),n.textContent=C,p=P(),l=_("p"),$=o("Machine state: "),f=o(c),b=P(),t=_("p"),h=o("metal: "),B=o(w),z=o("°C"),T=_("br"),W=o(`
	goal:`),E=o(M),y=o("°C"),I=_("br"),J=o(`
	steam:`),L=o(S),K=o("°C "),N=_("br"),O=o(`
	pressure: `),R=o(j),V=o(" bar "),A=_("br"),D=o(`
	flow: `),H=o(k),F=o(" ml/s"),G=_("br")},l(a){n=v(a,"H1",{"data-svelte-h":!0}),U(n)!=="svelte-2s3hz2"&&(n.textContent=C),p=x(a),l=v(a,"P",{});var i=X(l);$=r(i,"Machine state: "),f=r(i,c),i.forEach(u),b=x(a),t=v(a,"P",{});var s=X(t);h=r(s,"metal: "),B=r(s,w),z=r(s,"°C"),T=v(s,"BR",{}),W=r(s,`
	goal:`),E=r(s,M),y=r(s,"°C"),I=v(s,"BR",{}),J=r(s,`
	steam:`),L=r(s,S),K=r(s,"°C "),N=v(s,"BR",{}),O=r(s,`
	pressure: `),R=r(s,j),V=r(s," bar "),A=v(s,"BR",{}),D=r(s,`
	flow: `),H=r(s,k),F=r(s," ml/s"),G=v(s,"BR",{}),s.forEach(u)},m(a,i){d(a,n,i),d(a,p,i),d(a,l,i),e(l,$),e(l,f),d(a,b,i),d(a,t,i),e(t,h),e(t,B),e(t,z),e(t,T),e(t,W),e(t,E),e(t,y),e(t,I),e(t,J),e(t,L),e(t,K),e(t,N),e(t,O),e(t,R),e(t,V),e(t,A),e(t,D),e(t,H),e(t,F),e(t,G)},p(a,[i]){i&1&&c!==(c=a[0].state+"")&&g(f,c),i&1&&w!==(w=a[0].head_temp+"")&&g(B,w),i&1&&M!==(M=a[0].temp_goal+"")&&g(E,M),i&1&&S!==(S=a[0].steam_temp+"")&&g(L,S),i&1&&j!==(j=a[0].pressure+"")&&g(R,j),i&1&&k!==(k=a[0].flow+"")&&g(H,k)},i:Q,o:Q,d(a){a&&(u(n),u(p),u(l),u(b),u(t))}}}function ut(m,n,C){let p={state:"off",head_temp:0};return st(()=>{pt.subscribe(l=>{typeof l=="string"&&C(0,p=JSON.parse(l))})}),[p]}class ct extends Z{constructor(n){super(),tt(this,n,ut,ft,Y,{})}}function _t(m){let n,C="Welcome to SvelteKit",p,l,$='Visit <a href="https://kit.svelte.dev">kit.svelte.dev</a> to read the documentation',c,f,b;return f=new ct({}),{c(){n=_("h1"),n.textContent=C,p=P(),l=_("p"),l.innerHTML=$,c=P(),nt(f.$$.fragment)},l(t){n=v(t,"H1",{"data-svelte-h":!0}),U(n)!=="svelte-yyjjjs"&&(n.textContent=C),p=x(t),l=v(t,"P",{"data-svelte-h":!0}),U(l)!=="svelte-jl9sbz"&&(l.innerHTML=$),c=x(t),at(f.$$.fragment,t)},m(t,h){d(t,n,h),d(t,p,h),d(t,l,h),d(t,c,h),lt(f,t,h),b=!0},p:Q,i(t){b||(ot(f.$$.fragment,t),b=!0)},o(t){rt(f.$$.fragment,t),b=!1},d(t){t&&(u(n),u(p),u(l),u(c)),it(f,t)}}}class dt extends Z{constructor(n){super(),tt(this,n,null,_t,Y,{})}}export{dt as component};
